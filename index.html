<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–®–∏—Ñ—Ä–∞—Ç–æ—Ä</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Telegram WebApp -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="app">

    <h1>üîê –®–∏—Ñ—Ä–∞—Ç–æ—Ä</h1>

    <div class="tabs">
        <button id="tab-encrypt" class="tab active" onclick="setMode('encrypt')">
            –ó–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å
        </button>
        <button id="tab-decrypt" class="tab" onclick="setMode('decrypt')">
            –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å
        </button>
    </div>

    <div class="block">
        <label id="inputLabel">–ò—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç</label>
        <textarea id="inputText" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç..."></textarea>
    </div>

    <button class="main-btn" onclick="process()">–í—ã–ø–æ–ª–Ω–∏—Ç—å</button>

    <div class="block">
        <label>–†–µ–∑—É–ª—å—Ç–∞—Ç</label>
        <textarea id="outputText" placeholder="–†–µ–∑—É–ª—å—Ç–∞—Ç..." readonly></textarea>
        <button class="copy-btn" onclick="copyResult()">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
    </div>

</div>

<script src="script.js"></script>

<script>
    let mode = 'encrypt';

    function setMode(newMode) {
        mode = newMode;

        document.getElementById('tab-encrypt').classList.toggle('active', mode === 'encrypt');
        document.getElementById('tab-decrypt').classList.toggle('active', mode === 'decrypt');

        document.getElementById('inputLabel').innerText =
            mode === 'encrypt' ? '–ò—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç' : '–ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç';

        document.getElementById('inputText').value = '';
        document.getElementById('outputText').value = '';
    }

    function process() {
        const input = document.getElementById('inputText').value;
        if (!input) return;

        document.getElementById('outputText').value =
            mode === 'encrypt' ? encryptText(input) : decryptText(input);
    }

    function copyResult() {
        const output = document.getElementById('outputText');
        output.select();
        document.execCommand('copy');
    }
</script>

</body>
</html>